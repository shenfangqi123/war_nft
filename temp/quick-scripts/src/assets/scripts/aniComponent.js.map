{"version":3,"sources":["assets/scripts/aniComponent.js"],"names":["cc","Class","Component","properties","sprAtlas","SpriteAtlas","wrapMode","WrapMode","onLoad","_animation","getComponent","Animation","setAnimation","start","playAnimation","self","frames","getSpriteFrames","clip","AnimationClip","createWithSpriteFrames","length","name","speed","sample","addClip","Default","animState","getAnimationState","play"],"mappings":";;;;;;AACAA,EAAE,CAACC,KAAH,CAAS;AACL,aAASD,EAAE,CAACE,SADP;AAGLC,EAAAA,UAAU,EAAE;AACRC,IAAAA,QAAQ,EAAEJ,EAAE,CAACK,WADL;AAERC,IAAAA,QAAQ,EAAEN,EAAE,CAACO,QAAH;AAFF,GAHP;AAQL;AAEAC,EAAAA,MAVK,oBAUK;AACN,SAAKC,UAAL,GAAkB,KAAKC,YAAL,CAAkBV,EAAE,CAACW,SAArB,CAAlB;AACA,SAAKC,YAAL;AACH,GAbI;AAeLC,EAAAA,KAfK,mBAeI;AACL,SAAKC,aAAL;AACH,GAjBI;AAmBLF,EAAAA,YAnBK,0BAmBW;AACZ,QAAIG,IAAI,GAAG,IAAX;;AACA,QAAG,KAAKX,QAAR,EAAkB;AACd,UAAIY,MAAM,GAAG,KAAKZ,QAAL,CAAca,eAAd,EAAb;AACA,UAAIC,IAAI,GAAGlB,EAAE,CAACmB,aAAH,CAAiBC,sBAAjB,CAAwCJ,MAAxC,EAA+CA,MAAM,CAACK,MAAtD,CAAX;AACAH,MAAAA,IAAI,CAACI,IAAL,GAAY,UAAZ;AACAJ,MAAAA,IAAI,CAACK,KAAL,GAAa,GAAb;AACAL,MAAAA,IAAI,CAACM,MAAL,GAAc,EAAd;AACAN,MAAAA,IAAI,CAACZ,QAAL,GAAgB,KAAKA,QAArB;;AACA,WAAKG,UAAL,CAAgBgB,OAAhB,CAAwBP,IAAxB;AACH;AACJ,GA9BI;AAgCLJ,EAAAA,aAhCK,yBAgCUR,QAhCV,EAgC0CiB,KAhC1C,EAgCuDC,MAhCvD,EAgCoE;AAAA,QAA1DlB,QAA0D;AAA1DA,MAAAA,QAA0D,GAA/CN,EAAE,CAACO,QAAH,CAAYmB,OAAmC;AAAA;;AAAA,QAA1BH,KAA0B;AAA1BA,MAAAA,KAA0B,GAAlB,GAAkB;AAAA;;AAAA,QAAbC,MAAa;AAAbA,MAAAA,MAAa,GAAJ,EAAI;AAAA;;AACrE,QAAG,KAAKf,UAAR,EAAoB;AAChB,UAAIkB,SAAS,GAAG,KAAKlB,UAAL,CAAgBmB,iBAAhB,CAAkC,UAAlC,CAAhB;;AACAD,MAAAA,SAAS,CAACT,IAAV,CAAeZ,QAAf,GAA0BA,QAA1B;AACAqB,MAAAA,SAAS,CAACT,IAAV,CAAeK,KAAf,GAAuBA,KAAvB;AACAI,MAAAA,SAAS,CAACT,IAAV,CAAeM,MAAf,GAAwBA,MAAxB;;AACA,WAAKf,UAAL,CAAgBoB,IAAhB,CAAqB,UAArB;AACH;AACJ,GAxCI,CA0CL;;AA1CK,CAAT","sourceRoot":"/","sourcesContent":["\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        sprAtlas: cc.SpriteAtlas,\n        wrapMode: cc.WrapMode.default,\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad () {\n        this._animation = this.getComponent(cc.Animation);\n        this.setAnimation();\n    },\n\n    start () {\n        this.playAnimation();\n    },\n\n    setAnimation () {\n        var self = this;\n        if(this.sprAtlas) {\n            var frames = this.sprAtlas.getSpriteFrames();\n            var clip = cc.AnimationClip.createWithSpriteFrames(frames,frames.length);\n            clip.name = \"anim_001\";\n            clip.speed = 0.1;\n            clip.sample = 60;\n            clip.wrapMode = this.wrapMode;\n            this._animation.addClip(clip);\n        }\n    },\n\n    playAnimation (wrapMode = cc.WrapMode.Default, speed = 0.5, sample = 60) {\n        if(this._animation) {\n            var animState = this._animation.getAnimationState(\"anim_001\");\n            animState.clip.wrapMode = wrapMode;\n            animState.clip.speed = speed;\n            animState.clip.sample = sample;\n            this._animation.play(\"anim_001\");\n        }\n    }\n\n    // update (dt) {},\n});\n"]}
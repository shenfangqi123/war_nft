{"version":3,"sources":["assets/scripts/AllCard.js"],"names":["cc","Class","Component","properties","seleRole","magicCost","level","disp","onLoad","start","isMoving","seleInnerId","setInitImgByRole","setRoleCost","setRoleDisp","setCardStatus","flag","but","node","getChildByName","hidebut","lb","lbword","getComponent","Button","interactable","grey","butNode","opacity","userButClick","layout","parent","seleOneCard","setRole","role","cost","getLayoutNode","mark","costLabel","string","butLabel","setSelImg","frameImg","iconNode","loader","loadRes","SpriteFrame","err","spriteFrame","active","Sprite"],"mappings":"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","sourceRoot":"/","sourcesContent":["// Learn cc.Class:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/class.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/class.html\n// Learn Attribute:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/life-cycle-callbacks.html\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        seleRole: \"ske\",\n        magicCost: 1,\n        level:1,\n        disp:\"\",\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad () {\n    },\n\n    start () {\n        this.isMoving = false;\n        this.seleInnerId = \"\";\n        this.setInitImgByRole();\n        this.setRoleCost();\n        this.setRoleDisp();\n        //this.grey(true);\n    },\n\n    setCardStatus: function(flag) {\n        var but = this.node.getChildByName(\"useButton\");\n        var hidebut = this.node.getChildByName(\"click\");\n        var lb = but.getChildByName(\"disp\");\n        var lbword = lb.getComponent(\"cc.Label\")\n\n        // in used\n        if(flag) {\n            but.getComponent(cc.Button).interactable = false;\n            hidebut.getComponent(cc.Button).interactable = false;\n            //lbword.string = \"已使用\";\n        }\n        else {\n            but.getComponent(cc.Button).interactable = true;\n            hidebut.getComponent(cc.Button).interactable = true;\n            //lbword.string = \"使用\";\n        }\n    },\n\n    grey: function(flag) {\n        var butNode = this.node.getChildByName(\"useButton\");\n        if(flag) {\n            //butNode.getComponent(cc.Button).interactable = false;\n            this.node.opacity = 100;\n        } else {\n            //butNode.getComponent(cc.Button).interactable = true;\n            this.node.opacity = 255;            \n        }\n    },\n\n    userButClick: function() {\n        var layout = this.node.parent.getComponent(\"SelLayout\");\n        layout.seleOneCard(this.seleRole);\n    },\n\n    setRole: function(role, cost, disp) {\n        this.seleRole = role;\n        this.magicCost = cost;\n        this.disp = disp;\n    },\n\n    getLayoutNode: function() {\n        return this.node.parent.getChildByName(\"layout\");\n    },\n\n    setRoleCost: function() {\n        var mark = this.node.getChildByName(\"ringMark\");\n        var costLabel = mark.getChildByName(\"cost\").getComponent(\"cc.Label\");\n        costLabel.string = this.magicCost;\n    },\n\n    setRoleDisp: function() {\n        var butLabel = this.node.getChildByName(\"useButton\").getChildByName(\"disp\").getComponent(\"cc.Label\");\n        butLabel.string = this.disp;\n    },\n\n    setSelImg: function(frameImg) {\n        var iconNode = this.node.getChildByName(\"icon\");\n        cc.loader.loadRes(frameImg, cc.SpriteFrame, function (err, spriteFrame) {\n            //iconNode.width = 100;\n            //iconNode.height = 120;\n            iconNode.active = true;\n            iconNode.getComponent(cc.Sprite).spriteFrame = spriteFrame;\n        });\n    },\n\n    setInitImgByRole: function() {\n        var frameImg = \"\";\n\n        if(this.seleRole == \"ske\") {\n            this.setSelImg(\"sel_cards/ske\");\n        }\n        //lieren\n        else if(this.seleRole == \"lr\") {\n            this.setSelImg(\"sel_cards/lieren\");\n        }\n        //rockman\n        else if(this.seleRole == \"gi\") {\n            this.setSelImg(\"sel_cards/rockman\");\n        }\n        else if(this.seleRole == \"log\") {\n            this.setSelImg(\"sel_cards/log\");\n        }\n        else if(this.seleRole == \"bomb\") {\n            this.setSelImg(\"sel_cards/bomb\");\n        }\n        else if(this.seleRole == \"bee\") {\n            this.setSelImg(\"sel_cards/bee\");\n        }\n        else if(this.seleRole == \"wiz\") {\n            this.setSelImg(\"sel_cards/wiz\");\n        }\n        //hero\n        else if(this.seleRole == \"hr\") {\n            this.setSelImg(\"sel_cards/hero\");\n        }\n        //light man\n        else if(this.seleRole == \"lm\") {\n            this.setSelImg(\"sel_cards/lightman\");\n        }\n        //hero\n        else if(this.seleRole == \"fa\") {\n            this.setSelImg(\"sel_cards/fortA\");\n        }\n        //hero\n        else if(this.seleRole == \"ir\") {\n            this.setSelImg(\"sel_cards/ironman\");\n        }\n    }\n\n    // update (dt) {},\n});\n"]}